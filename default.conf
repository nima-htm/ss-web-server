servers:
  - listen: ":8080"
    server_name: "localhost"
    locations:
      - path: "/api/"
        proxy_pass: "backend"  # This refers to the upstream named "backend"
        proxy_set:
          X-Real-IP: "$remote_addr"
        proxy_pass_headers:
          - "Authorization"
          - "Content-Type"
          - "Accept"
      - path: "/"
        root: "./static"
        index: "index.html"

upstreams:
  - name: "backend"
    servers:
      - "http://localhost:8000"  # Example backend server (like your original main.go server)
      - "http://localhost:8001"  # Another backend server instance for load balancing
